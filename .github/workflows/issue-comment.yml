name: comment on a new issue

on:
  issues:
    types: [opened]

permissions:
  contents: read
  issues: write

jobs:
  issue_comment_job:
    name: Issue Comment Job
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Comment on Issue
        uses: peter-evans/create-or-update-comment@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          issue-number: ${{ github.event.issue.number }}
          body: |
            Thank you for opening this issue! We will look into it as soon as possible.
          reactions: 'heart'
  
  comment_with_api:
    name: Comment with API Job
    runs-on: ubuntu-latest
    steps:
      - name: Comment on Issue using API
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          ISSUE_NUMBER: ${{ github.event.issue.number }}
        run: |
          curl -s -X POST \
            -H "Authorization: token $GITHUB_TOKEN" \
            -H "Accept: application/vnd.github.v3+json" \
            https://api.github.com/repos/${{ github.repository }}/issues/$ISSUE_NUMBER/comments \
            -d '{"body":"This is a comment added via the GitHub API!"}'